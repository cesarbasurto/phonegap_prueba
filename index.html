<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8" />
        <title>PhoneGap Demo</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script type="text/javascript" charset="utf-8"></script>
        <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.css">
		<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
		<script src="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.js"></script>
		<script src="js/jquery.mobile.fastButtons.js"></script>
		<script src="js/jquery.mobile.subpage.js"></script>
		<script type="text/javascript" charset="utf-8">
		//*********************************************************
		// Wait for Cordova to Load
		//*********************************************************
		
	    var rootDir = "file:///mnt/sdcard";
	    var appHomeDir = "Android/data/com.ventusmoso.pg2_jqm";
	
	    //*********************************************************    
	    // Prepare dir for file and storage features
	    //*********************************************************  
	    function createFileDir() {
	
	        function fsOnError(error) {
	            alert("Cannot get to root file system. Code: " + error.message)
	        }
	        function dirOnError(error) {
	            alert("Cannot create dir. Code: " + error.code)
	        }
	        function fsOnSuccess(fileSystem) {
	            fileSystem.root.getDirectory(appHomeDir, {create: true, exclusive: false}, null, dirOnError);
	        }
	
	        window.requestFileSystem( LocalFileSystem.PERSISTENT, 0, fsOnSuccess, fsOnError );
	    }


    	document.addEventListener("deviceready", onDeviceReady, false);
    	function onDeviceReady() {
			 $("#main h1#appTitle").html("PhoneGap " + device.cordova + " Demo");       
	       // addBackbuttonListener();
	        createFileDir();
			
		}
		
		document.addEventListener("backbutton", function() {
            if ( $('.ui-page-active').attr('id') == 'main') {
                exitAppPopup();
            } else {
                history.back();             
            }
        }, false);
        
        function exitAppPopup() {
		    navigator.notification.confirm(
		          'Exit PhoneGap ' + device.cordova + ' Demo?'
		        , function(button) {
		              if (button == 2) {
		                  navigator.app.exitApp();
		              } 
		          }
		        , 'Exit'
		        , 'No,Yes'
		    );  
		    return false;
		}
		
		function showAlert() {
	        navigator.notification.alert(
	            'You are the winner!',  // message
	            alertDismissed,         // callback
	            'Game Over',            // title
	            'Done'                  // buttonName
	        );
	    }
	    
	    function alertDismissed() {
            // do something
        }
    
		</script>
	</head>
	<body>
		<!---------------------------------- Main Page ---------------------------------------->
	    <div data-role="page" id="main">
	        <div data-role="header" data-position="fixed">
	            <h1 id="appTitle"></h1>
	        </div>
	        <div data-role="content"> 
	        <ul data-role="listview" data-inset="true" data-filter="true">
	            <li><a href="about.html" id="goAbout">About</a></li>
	            <li><a href="accelerometer.html" id="goAccelerometer">Accelerometer</a></li>
	            <li><a href="camera.html" id="goCamera">Camera</a></li>
	            <li><a href="capture.html" id="goCapture">Capture</a></li>
	            <li><a href="compass.html" id="goCompass">Compass</a></li>
	            <li><a href="connection.html" id="goConnection">Connection</a></li>
	            <li><a href="contacts.html" id="goContacts">Contacts</a></li>          
	            <li><a href="device.html" id="goDevice">Device</a></li>
	            <li><a href="event.html" id="goEvent">Event</a></li>            
	            <li><a href="file.html" id="goFile">File</a></li>
	            <li><a href="geolocation.html" id="goGeolocation">Geolocation</a></li>
	            <li><a href="media.html" id="goMedia">Media</a></li>            
	            <li><a href="notification.html" id="goNotification">Notification</a></li>
	            <li><a href="storage.html" id="goStorage">Storage</a></li>
	        </ul>
	        </div>
	    </div> 
	    
	</body>
</html>
